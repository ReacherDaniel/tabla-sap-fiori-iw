<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">
  <Dialog id="grupoEtDialog" title="Definir Grupo ET" stretchOnPhone="true">
    <content>
      <VBox class="sapUiSmallMargin">
        <!-- Grupo ET - Etiqueta -->
        <Label text="Grupo ET - Etiqueta" class="sapUiSmallMarginTop"/>
        <ComboBox
          id="grpEtiqueta"
          items="{grupoEtModel>/etiquetas}"
          selectedKey="{grupoEtModel>/selectedEtiqueta}"
          selectionChange=".onGrupoEtiquetaChange"
          placeholder="Selecciona una Etiqueta">
          <!-- key = IDETIQUETA, text = nombre de la etiqueta -->
          <core:Item  key="{grupoEtModel>IDETIQUETA}"  text="{grupoEtModel>ETIQUETA}" />
        </ComboBox>

        <!-- Grupo ET - Valor -->
        <Label text="Grupo ET - Valor" class="sapUiMediumMarginTop"/>
        <ComboBox
          id="grpEtValor"
          items="{grupoEtModel>/valoresList}"
          selectedKey="{grupoEtModel>/selectedValor}"
          enabled="{= !!${grupoEtModel>/selectedEtiqueta} }"
          selectionChange=".onGrupoValorChange"
          placeholder="Selecciona un Valor">
          <!-- key = IDVALOR, text = nombre del valor -->
           <core:Item key="{grupoEtModel>IDVALOR}" text="{grupoEtModel>VALOR}" />
        </ComboBox>

        <!-- Resultado -->
        <Label text="Resultado (Etiqueta-Valor)" class="sapUiMediumMarginTop"/>
        <Input value="{grupoEtModel>/displayName}" editable="false" width="100%"/>
      </VBox>
    </content>

    <beginButton>
      <Button text="Aceptar" type="Emphasized" press=".onApplyGrupoEt" />
    </beginButton>
    <endButton>
      <Button text="Cancelar" press=".onCancelGrupoEt" />
    </endButton>
  </Dialog>
</core:FragmentDefinition>